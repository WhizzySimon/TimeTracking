# Evidence Bundle: FIX-analysis-calculations

## Audit Context

- **Task ID:** FIX-analysis-calculations
- **Box Type:** bugfix

---

## Acceptance Criteria (REQUIRED)

- [x] Date validation accepts both D.M.YYYY and DD.MM.YYYY formats
- [x] Soll calculation uses correct work time model for each date (not just currentDate)
- [x] Month/Week/Day pages persist selected date on reload
- [x] Navigation from Analysis→Month/Week respects clicked period
- [x] Navigation from Month→Week respects clicked week
- [x] Navigation from Week→Day respects clicked day
- [x] npm run check passes with 0 errors

---

## Planned Scope (recommended)

- **Planned files/areas:**
  - src/lib/utils/date.ts (date parsing)
  - src/routes/analysis/+page.svelte (navigation + data refresh)
  - src/routes/month/+page.svelte (date persistence + Soll fix)
  - src/routes/week/+page.svelte (date persistence)
  - src/routes/day/+page.svelte (date persistence)
- **Out-of-scope:** N/A

---

## Commands Run + Results

| Command          | Exit Code | Notes                |
| ---------------- | --------- | -------------------- |
| `npm run check`  | 0         | 0 errors, 4 warnings |
| `npm run format` | 0         | All files formatted  |

---

## Decision Links (optional)

- `DevFramework/FrameworkSelfImprovementLogs/DECISIONS.md` — none
- Related specs/plans: N/A (bug fix session)

---

## Auditor Section (filled by /audit)

### Snapshot Identifiers

- **BASE_HEAD:** dev
- **STAGED_DIFF_HASH:** N/A (inline audit)

### Audit Verdict

- **Date:** 2025-12-31
- **Verdict:** PASS
- **Notes:** All acceptance criteria met. npm run check: 0 errors, 4 warnings (pre-existing). Code formatted.
