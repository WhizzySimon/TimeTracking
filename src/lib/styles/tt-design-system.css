/**
 * TimeTracker Design System v2
 * 
 * ============================================================================
 * 3-LAYER ARCHITECTURE
 * ============================================================================
 * 
 * LAYER 1: SCHEME COLORS (Primitives)
 *   --tt-brand-primary-500, --tt-status-danger-500, etc.
 *   → Raw colors from color schemes, change with scheme selection
 *   → Avoid using directly in components - use semantic tokens instead
 * 
 * LAYER 2: SEMANTIC TOKENS (Purpose-based values)
 *   --tt-background-card, --tt-text-muted, --tt-border-default, etc.
 *   → Map scheme colors to purposes ("what is it FOR?")
 *   → Use in CSS when styling individual properties
 *   → RULE: Create when same PURPOSE exists in 2+ places
 * 
 * LAYER 3: COMPONENT CLASSES (Multi-property bundles)
 *   .tt-button-primary, .tt-list-row-clickable, .tt-inline-label-*, etc.
 *   → Bundle multiple properties together
 *   → RULE: Create when same UI PATTERN is used 3+ times
 *   → Single-use components: use semantic tokens directly, no class needed
 * 
 * ============================================================================
 * NAMING CONVENTION
 * ============================================================================
 * - Variables: --tt-{category}-{property}-{variant}
 * - Classes: .tt-{component}-{variant} or .tt-{component}--{modifier}
 * - Child elements: BEM-like naming (.tt-list-row__time, .tt-list-row__actions)
 * 
 * ============================================================================
 * INTERACTION STATES
 * ============================================================================
 * State progression: normal → hover → selected/current → pressed
 * - Light backgrounds: states become darker
 * - Dark backgrounds: states become lighter
 * 
 * TOUCHABLE vs NON-TOUCHABLE:
 * - Clickable: white background + border = card-like affordance
 * - Static: no background, flat appearance
 * 
 * BORDER-RADIUS:
 * - Cards/rows: --tt-radius-card (8px)
 * - Buttons: --tt-radius-button (6px)
 * - Badges/labels: --tt-radius-badge (4px)
 * - Pills/chips: --tt-radius-pill (9999px)
 */

/* ============================================================================
   A) DESIGN TOKENS - Self-explanatory variable names
   ============================================================================ */

/* ---- COLOR SCHEMES ----
   Switchable via data-color-scheme attribute on <html>
   Generic identifiers (scheme-1, scheme-2, etc.) allow UI display names to change independently.
   
   Current mapping:
   - scheme-1 = Original (#374CA7): Extended numbered scale with #374CA7 base
   - scheme-2 = Mittel (#2330A3): #2330A3 / #66BDF1
   - scheme-3 = Kräftig (#2526a9): #2526a9 / #37bdf6
*/

/* Scheme 1: Original (#374CA7) - Extended numbered scale
   Numbers represent lightness levels (25=lightest → 500=base → 700=darkest)
   Base color: #374CA7
*/
html[data-color-scheme='scheme-1'] {
	/* Brand Primary - Full Scale */
	--tt-brand-primary-25: #e8f0f8; /* Page background - lightest */
	--tt-brand-primary-50: #dce2f2; /* Very light tint - between 25 and 100, less red */
	--tt-brand-primary-100: #c9cee9; /* Light tint */
	--tt-brand-primary-200: #a4adda; /* Medium-light tint */
	--tt-brand-primary-300: #7b88c9; /* Medium tint */
	--tt-brand-primary-400: #5f6fb9; /* Interactive/pressed state */
	--tt-brand-primary-500: #374ca7; /* Base brand color */
	--tt-brand-primary-600: #2c3d86; /* Darker */
	--tt-brand-primary-700: #212e64; /* Darkest */
	--tt-brand-primary-800: rgba(55, 76, 167, 0.1);

	/* Brand Accent */
	--tt-brand-accent-50: #eaf8fe;
	--tt-brand-accent-100: #c5ecfd;
	--tt-brand-accent-200: #9bdefb;
	--tt-brand-accent-300: #37bdf6;
	--tt-brand-accent-400: #2fa1d1;
	--tt-brand-accent-500: #247ba0;
	--tt-brand-accent-600: rgba(55, 189, 246, 0.1);
}

/* Scheme 2: Mittel (#2330A3) - #2330A3 / #66BDF1 */
html[data-color-scheme='scheme-2'] {
	--tt-brand-primary-50: #e7e9f6;
	--tt-brand-primary-100: #c3c7e8;
	--tt-brand-primary-200: #9ba0d8;
	--tt-brand-primary-300: #6f76c6;
	--tt-brand-primary-400: #4f5ab5;
	--tt-brand-primary-500: #2330a3;
	--tt-brand-primary-600: #1c2682;
	--tt-brand-primary-700: #151d62;
	--tt-brand-primary-800: rgba(35, 48, 163, 0.1);

	--tt-brand-accent-50: #f0f9fe;
	--tt-brand-accent-100: #d1edfb;
	--tt-brand-accent-200: #a8ddf6;
	--tt-brand-accent-300: #66bdf1;
	--tt-brand-accent-400: #56a1cd;
	--tt-brand-accent-500: #427b9d;
	--tt-brand-accent-600: rgba(102, 189, 241, 0.1);
}

/* Scheme 3: Kräftig (#2526a9) - #2526a9 / #37bdf6 */
html[data-color-scheme='scheme-3'] {
	--tt-brand-primary-50: #e8e8f8;
	--tt-brand-primary-100: #c5c5ed;
	--tt-brand-primary-200: #9e9fe0;
	--tt-brand-primary-300: #7475d3;
	--tt-brand-primary-400: #4a4bc5;
	--tt-brand-primary-500: #2526a9;
	--tt-brand-primary-600: #1e1f8a;
	--tt-brand-primary-700: #171868;
	--tt-brand-primary-800: rgba(37, 38, 169, 0.1);

	--tt-brand-accent-50: #eaf8fe;
	--tt-brand-accent-100: #c5ecfd;
	--tt-brand-accent-200: #9bdefb;
	--tt-brand-accent-300: #37bdf6;
	--tt-brand-accent-400: #2fa1d1;
	--tt-brand-accent-500: #247ba0;
	--tt-brand-accent-600: rgba(55, 189, 246, 0.1);
}

:root {
	/* ---- BASE PRIMITIVES (scheme-independent) ---- */
	/* White and white opacity variants (for dark backgrounds) */
	--tt-white: #ffffff;
	--tt-white-08: rgba(255, 255, 255, 0.08);
	--tt-white-10: rgba(255, 255, 255, 0.1);
	--tt-white-15: rgba(255, 255, 255, 0.15);
	--tt-white-20: rgba(255, 255, 255, 0.2);
	--tt-white-25: rgba(255, 255, 255, 0.25);
	--tt-white-30: rgba(255, 255, 255, 0.3);
	--tt-white-70: rgba(255, 255, 255, 0.7);

	/* Neutral gray scale (for backgrounds, borders, text) */
	--tt-gray-25: #f7fafc;
	--tt-gray-50: #f5f8fc;
	--tt-gray-100: #edf2f7;
	--tt-gray-200: #e2e8f0;
	--tt-gray-300: #d1dbe8;
	--tt-gray-400: #b8c4d4;
	--tt-gray-500: #718096;
	--tt-gray-700: #4a5568;
	--tt-gray-900: #1a202c;

	/* ---- LAYOUT ---- */
	--tt-app-max-width: 600px;

	/* ---- COLORS: Backgrounds ---- */
	--tt-background-page: var(--tt-brand-primary-25); /* App background - scheme tinted */
	--tt-background-outside: var(--tt-white); /* Outside app area */
	--tt-background-card: var(--tt-white); /* Light background - normal state */
	--tt-background-card-hover: var(--tt-gray-50); /* Light background - hover (slightly darker) */
	--tt-background-card-selected: var(--tt-gray-100); /* Light background - selected/current state */
	--tt-background-card-pressed: var(--tt-gray-200); /* Light background - pressed (darkest) */
	--tt-background-input: var(--tt-white);
	--tt-background-input-hover: var(--tt-gray-25);

	/* ---- HEADER COLORS (dark background context) ---- */
	--tt-header-bg: var(--tt-brand-primary-500);
	--tt-header-text: var(--tt-white);
	--tt-header-text-muted: var(--tt-white-70);
	--tt-header-border: var(--tt-white-20);
	--tt-header-btn-hover: var(--tt-white-10); /* Button hover on dark bg */
	--tt-header-btn-pressed: var(--tt-white-20); /* Button pressed on dark bg */

	/* ---- FOOTER TAB COLORS (dark background context) ---- */
	--tt-footer-bg: var(--tt-brand-primary-500);
	--tt-footer-tab-bg: var(--tt-brand-accent-300); /* Accent color background */
	--tt-footer-tab-bg-hover: var(--tt-brand-accent-400); /* Darker on hover */
	--tt-footer-tab-bg-current: var(--tt-brand-accent-400); /* Selected/current tab */
	--tt-footer-tab-bg-pressed: var(--tt-brand-accent-500); /* Pressed state */
	--tt-footer-tab-text: var(--tt-brand-primary-700); /* Dark text on light accent */
	--tt-footer-tab-text-current: var(--tt-brand-primary-700);
	--tt-footer-tab-border: transparent; /* No border with accent bg */
	--tt-footer-plus-bg: var(--tt-brand-primary-600); /* Plus tab darker */
	--tt-footer-plus-text: var(--tt-white);

	/* ---- COLORS: Borders ---- */
	--tt-border-default: var(--tt-gray-300);
	--tt-border-subtle: var(--tt-gray-200);
	--tt-border-focus: var(--tt-brand-primary-500);

	/* ---- COLORS: Saldo/Balance Display ---- */
	--tt-saldo-positive: var(--tt-brand-accent-300); /* Positive balance (Haben) */
	--tt-saldo-negative: var(--tt-status-danger-500); /* Negative balance */

	/* ---- TOUCHABLE AFFORDANCE ---- */
	/* Rule: Every touchable element has a visible border */
	--tt-border-touchable-width: 1px;
	--tt-border-touchable-color: var(--tt-gray-400); /* Slightly darker than default for visibility */

	/* ---- STATE LAYERS (Material Design 3 inspired) ---- */
	/* Opacity-based overlays that work on any background color */
	/* Light context (default) - black overlays */
	--tt-state-hover: rgba(0, 0, 0, 0.08);
	--tt-state-focus: rgba(0, 0, 0, 0.1);
	--tt-state-pressed: rgba(0, 0, 0, 0.12);
	--tt-state-selected: rgba(0, 0, 0, 0.08);

	/* Danger state layers - red tinted overlays */
	--tt-state-danger-hover: rgba(197, 48, 48, 0.08);
	--tt-state-danger-pressed: rgba(197, 48, 48, 0.12);

	/* Modal/dialog backdrop */
	--tt-backdrop-bg: rgba(0, 0, 0, 0.5);

	/* ---- COLORS: Text ---- */
	--tt-text-primary: var(--tt-gray-900);
	--tt-text-secondary: var(--tt-gray-700);
	--tt-text-muted: var(--tt-gray-500);

	/* ---- COLORS: Semantic States ---- */
	/* These colors are scheme-independent and remain consistent across all color schemes */

	/* Danger: Destructive actions (delete), errors, validation failures */
	--tt-status-danger-50: #fee2e2;
	/* --tt-status-danger-100: #fecaca; */ /* UNUSED */
	/* --tt-status-danger-300: #e05353; */ /* UNUSED - only styleguide */
	--tt-status-danger-500: #c53030;
	--tt-status-danger-600: #9b2c2c;
	/* --tt-status-danger-700: #7f1d1d; */ /* UNUSED */
	--tt-status-danger-800: rgba(197, 48, 48, 0.1);

	/* Success: Positive outcomes, confirmations */
	--tt-status-success-50: #dcfce7;
	/* --tt-status-success-100: #bbf7d0; */ /* UNUSED */
	/* --tt-status-success-300: #48a274; */ /* UNUSED - only styleguide */
	--tt-status-success-500: #2f855a;
	/* --tt-status-success-600: #16a34a; */ /* UNUSED */
	/* --tt-status-success-700: #15803d; */ /* UNUSED */
	--tt-status-success-800: rgba(47, 133, 90, 0.1);

	/* Warning: Caution, attention needed */
	--tt-status-warning-50: #fef9c3;
	/* --tt-status-warning-100: #fde68a; */ /* UNUSED */
	/* --tt-status-warning-300: #ed8a4a; */ /* UNUSED - only styleguide */
	--tt-status-warning-500: #dd6b20;
	/* --tt-status-warning-600: #d97706; */ /* UNUSED */
	/* --tt-status-warning-700: #b45309; */ /* UNUSED */
	/* --tt-status-warning-800: rgba(221, 107, 32, 0.1); */ /* UNUSED */

	/* Info: Running tasks, progress, informational highlights */
	--tt-status-info: var(--tt-brand-accent-300);
	--tt-status-info-pressed: var(--tt-brand-accent-400);
	--tt-status-info-faded: var(--tt-brand-accent-600);
	--tt-status-info-text: var(--tt-brand-accent-500); /* Darker accent for text contrast */

	/* ---- SPACING ---- */
	--tt-space-4: 0.25rem;
	--tt-space-6: 0.375rem;
	--tt-space-8: 0.5rem;
	--tt-space-12: 0.75rem;
	--tt-space-16: 1rem;
	--tt-space-20: 1.25rem;
	--tt-space-24: 1.5rem;
	--tt-space-32: 2rem;
	--tt-space-40: 2.5rem;

	/* ---- BORDER RADIUS ---- */
	--tt-radius-card: var(--r-card, 8px);
	--tt-radius-button: var(--r-btn, 6px);
	--tt-radius-input: var(--r-btn, 6px);
	--tt-radius-pill: 9999px;
	--tt-radius-badge: 4px;
	--tt-radius-modal: 12px; /* Modal/dialog corners */

	/* ---- TYPOGRAPHY ---- */
	--tt-font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;

	--tt-font-size-tiny: 0.75rem;
	--tt-font-size-small: 0.875rem;
	--tt-font-size-body: 0.9rem; /* Most common body text size */
	--tt-font-size-normal: 1rem;
	--tt-font-size-large: 1.125rem;
	--tt-font-size-title: 1.25rem; /* Section titles */

	--tt-font-weight-regular: 400;
	--tt-font-weight-medium: 500;
	--tt-font-weight-semibold: 600;
	--tt-font-weight-bold: 700;

	/* ---- INTERACTIVE STATE COLORS ---- */
	/* Primary button (dark background): states become lighter */
	--tt-button-primary-bg: var(--tt-brand-primary-500); /* Normal */
	--tt-button-primary-hover: var(--tt-brand-primary-400); /* Hover (lighter) */
	--tt-button-primary-selected: var(--tt-brand-primary-300); /* Selected/current (lighter) */
	--tt-button-primary-pressed: var(--tt-brand-primary-200); /* Pressed (lightest) */
	--tt-button-primary-text: var(--tt-white);

	/* Danger button (dark background): states become lighter */
	--tt-status-danger-hover: var(--tt-status-danger-300); /* Hover (lighter) */
	--tt-status-danger-selected: var(--tt-status-danger-100); /* Selected (lighter) */
	--tt-status-danger-pressed: var(--tt-status-danger-50); /* Pressed (lightest) */

	/* ---- DROPDOWN OPTION STATES ---- */
	/* For custom dropdown menus (dark bg when hovered) */
	--tt-dropdown-option-hover-bg: var(--tt-brand-primary-500);
	--tt-dropdown-option-hover-text: var(--tt-white);
	--tt-dropdown-option-pressed-bg: var(--tt-brand-primary-600);
	--tt-dropdown-option-pressed-text: var(--tt-white);
	--tt-dropdown-option-selected-bg: var(--tt-brand-primary-800);
	--tt-dropdown-option-selected-text: var(--tt-brand-primary-500);

	/* ---- SHADOWS ---- */
	--tt-shadow-dropdown: 0 4px 12px rgba(0, 0, 0, 0.15);
	--tt-shadow-modal: 0 4px 20px rgba(0, 0, 0, 0.25);

	/* ---- ANIMATION ---- */
	--tt-transition-fast: 0.15s ease;
	--tt-transition-normal: 0.2s ease;
}

/* ============================================================================
   RESPONSIVE SCALING FOR VERY NARROW SCREENS
   Below 350px, scale down the root font size to prevent overflow issues.
   All rem-based values (fonts, spacing, etc.) will shrink proportionally.
   ============================================================================ */
@media (max-width: 350px) {
	html {
		font-size: 14px; /* Default is 16px, this reduces everything by ~12.5% */
	}
}

@media (max-width: 300px) {
	html {
		font-size: 13px; /* Further reduction for extremely narrow screens */
	}
}

/* ============================================================================
   GLOBAL FONT RESET
   Force all elements to inherit the design system font
   ============================================================================ */
*,
*::before,
*::after {
	font-family: var(--tt-font-family);
}

button,
input,
select,
textarea {
	font-family: inherit;
}

/* ============================================================================
   B) LIST ROW - The primary list item component
   
   USAGE:
   - .tt-list-row-clickable: For items that navigate or open dialogs
   - .tt-list-row-static: For read-only display (Ist/Soll/Haben, Summe)
   
   COMPACT LAYOUT: Content flows horizontally first (time · category · employer)
   ============================================================================ */

/**
 * Base List Row - Shared structure for all row types
 */
.tt-list-row {
	display: flex;
	align-items: center;
	gap: var(--tt-space-12);
	padding: var(--tt-space-12) var(--tt-space-16);
	min-height: 44px;
	background: var(--tt-background-card);
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	border-radius: var(--tt-radius-card);
	font-size: var(--tt-font-size-normal);
	color: var(--tt-text-primary);
	box-sizing: border-box;
}

/**
 * CLICKABLE Row - Has cursor pointer, active state
 * Use for: Navigation items, time entries, editable settings items
 * Self-contained: includes all base row styles
 */
.tt-list-row-clickable {
	display: flex;
	align-items: center;
	gap: var(--tt-space-12);
	padding: var(--tt-space-12) var(--tt-space-16);
	min-height: 44px;
	background: var(--tt-background-card);
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	border-radius: var(--tt-radius-card);
	font-size: var(--tt-font-size-normal);
	color: var(--tt-text-primary);
	box-sizing: border-box;
	cursor: pointer;
}

/* Hover state: use card-hover (solid color) instead of state layer overlay */
@media (hover: hover) {
	.tt-list-row-clickable:hover {
		background: var(--tt-background-card-hover);
	}
}

/* Active/pressed state: use card-pressed (solid color) */
/* Use :has() to prevent activation when child button is pressed */
.tt-list-row-clickable:active:not(:has(button:active)) {
	background: var(--tt-background-card-pressed);
}

/* Current row highlight - for today's day or current week */
.tt-current-row {
	background: var(--tt-background-card-hover);
}

.tt-current-row:hover {
	background: var(--tt-background-card-pressed);
}

/* Make date/week label bold and colored for current row */
.tt-current-row .day-row__date,
.tt-current-row .week-row__title {
	font-weight: var(--tt-font-weight-bold);
	color: var(--tt-brand-primary-500);
}

/**
 * STATIC Row - No interaction, flat appearance
 * Use for: Ist/Soll/Haben summary, Summe totals, read-only info
 * Self-contained: includes all base row styles
 */
.tt-list-row-static {
	display: flex;
	align-items: center;
	gap: var(--tt-space-12);
	padding: var(--tt-space-12) var(--tt-space-16);
	min-height: 44px;
	background: var(--tt-background-card);
	border: 1px solid var(--tt-border-subtle);
	border-radius: var(--tt-radius-card);
	font-size: var(--tt-font-size-normal);
	color: var(--tt-text-secondary);
	box-sizing: border-box;
	cursor: default;
}

/**
 * COMPACT Row Content - Single line layout
 * Time · Category · Employer all on one line when space allows
 */
.tt-list-row__content-compact {
	flex: 1;
	min-width: 0;
	display: flex;
	flex-wrap: wrap;
	align-items: baseline;
	gap: var(--tt-space-8);
}

/**
 * STACKED Row Content - Multi-line layout (when needed)
 */
.tt-list-row__content-stacked {
	flex: 1;
	min-width: 0;
	display: flex;
	flex-direction: column;
	gap: var(--tt-space-4);
}

/**
 * Row End Slot - Right-aligned actions/indicators
 */
.tt-list-row__actions {
	display: flex;
	align-items: center;
	gap: var(--tt-space-8);
	flex-shrink: 0;
}

/**
 * Row Text Elements
 */
.tt-list-row__time {
	font-weight: var(--tt-font-weight-semibold);
	color: var(--tt-text-primary);
	white-space: nowrap;
}

.tt-list-row__category {
	color: var(--tt-brand-primary-500);
	white-space: nowrap;
}

.tt-list-row__detail {
	/* Badge-like appearance for inline labels (e.g., "Arbeitstag" on Week page) */
	display: inline-flex;
	align-items: center;
	padding: var(--tt-space-4) var(--tt-space-8);
	font-size: var(--tt-font-size-tiny);
	font-weight: var(--tt-font-weight-medium);
	color: var(--tt-text-muted);
	background: var(--tt-background-page);
	border-radius: var(--tt-radius-badge);
	white-space: nowrap;
}

/**
 * Separator dot for compact inline content
 */
.tt-list-row__separator {
	color: var(--tt-text-muted);
	font-size: var(--tt-font-size-small);
}

.tt-list-row__separator::before {
	content: '·';
}

/* ============================================================================
   C) INLINE LABEL - Fit-content badges for metadata
   
   IMPORTANT: These are inline-flex and will NOT stretch to full width
   
   Architecture: Shared base properties + color-only variants
   Usage: class="tt-inline-label-employer" (self-contained)
   ============================================================================ */

/**
 * Shared base properties for all inline labels
 * Applied via comma-separated selector list for DRY
 */
.tt-inline-label,
.tt-inline-label-employer,
.tt-inline-label-no-work,
.tt-inline-label-neutral,
.tt-inline-label-success,
.tt-inline-label-warning,
.tt-inline-label-danger {
	display: inline-flex;
	align-items: center;
	gap: var(--tt-space-4);
	padding: var(--tt-space-4) var(--tt-space-8);
	font-size: var(--tt-font-size-tiny);
	font-weight: var(--tt-font-weight-medium);
	line-height: 1.4;
	border-radius: var(--tt-radius-badge);
	white-space: nowrap;
	width: fit-content;
	flex-shrink: 0;
}

/**
 * Label color variants - only color properties
 */

/* Employer Label - Shows which employer an entry belongs to */
.tt-inline-label-employer {
	background: var(--tt-background-page);
	color: var(--tt-text-secondary);
}

/* No-Work Label - Shows "Keine Arbeitszeit" */
.tt-inline-label-no-work {
	background: var(--tt-background-page);
	color: var(--tt-text-muted);
}

/* Neutral Label - Generic metadata label */
.tt-inline-label-neutral {
	background: var(--tt-background-card-pressed);
	color: var(--tt-text-secondary);
}

/* Success Label - Positive status */
.tt-inline-label-success {
	background: var(--tt-status-success-800);
	color: var(--tt-status-success-500);
}

/* Warning Label - Caution status */
.tt-inline-label-warning {
	background: var(--tt-status-warning-50);
	color: var(--tt-status-warning-500);
}

/* Danger Label - Error/destructive status */
.tt-inline-label-danger {
	background: var(--tt-status-danger-800);
	color: var(--tt-status-danger-500);
}

/* ============================================================================
   E) INTERACTIVE CHIP - For selection UI (Add screen suggestions)
   ============================================================================ */

/**
 * CHIP - Looks like small button but with normal weight text
 * Used for selection/toggle on Add screen
 */
.tt-chip {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--tt-space-4);
	padding: var(--tt-space-6) var(--tt-space-12);
	min-height: 32px;
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	border-radius: var(--tt-radius-button);
	background: var(--tt-background-card);
	color: var(--tt-text-primary);
	font-size: var(--tt-font-size-small);
	font-weight: var(--tt-font-weight-normal);
	cursor: pointer;
	white-space: nowrap;
	transition:
		background var(--tt-transition-fast),
		border-color var(--tt-transition-fast),
		color var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-chip:hover {
		background: var(--tt-background-card-hover);
	}
}

.tt-chip:active {
	background: var(--tt-background-card-pressed);
}

.tt-chip.is-selected {
	background: var(--tt-brand-primary-500);
	color: white;
	border-color: var(--tt-brand-primary-500);
}

@media (hover: hover) {
	.tt-chip.is-selected:hover {
		background: var(--tt-button-primary-hover);
		border-color: var(--tt-button-primary-hover);
	}
}

/* Selected chip pressed: lighter for visible feedback */
.tt-chip.is-selected:active {
	background: var(--tt-button-primary-pressed);
	border-color: var(--tt-button-primary-pressed);
}

/* ============================================================================
   F) BUTTONS - Action triggers
   
   Architecture: Shared base properties + variant-specific colors/borders
   ============================================================================ */

/**
 * Shared base properties for all button variants
 */
.tt-button,
.tt-button-primary,
.tt-button-secondary,
.tt-button-ghost,
.tt-button-danger,
.tt-button-danger-outline {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--tt-space-8);
	padding: var(--tt-space-12) var(--tt-space-24);
	min-height: 48px;
	font-size: var(--tt-font-size-normal);
	font-weight: var(--tt-font-weight-semibold);
	line-height: 1;
	border-radius: var(--tt-radius-button);
	cursor: pointer;
	white-space: nowrap;
	text-decoration: none;
	transition: background var(--tt-transition-fast);
}

/* Shared disabled state for all buttons */
.tt-button:disabled,
.tt-button-primary:disabled,
.tt-button-secondary:disabled,
.tt-button-ghost:disabled,
.tt-button-danger:disabled,
.tt-button-danger-outline:disabled {
	opacity: 0.5;
	cursor: not-allowed;
}

/**
 * Button variants - only variant-specific properties
 */

/* Base Button (legacy) */
.tt-button {
	border: none;
	box-shadow: none;
}

.tt-button svg {
	width: 16px;
	height: 16px;
}

/* Primary Button - Main action */
.tt-button-primary {
	border: none;
	background: var(--tt-button-primary-bg);
	color: var(--tt-button-primary-text);
}

@media (hover: hover) {
	.tt-button-primary:hover:not(:disabled) {
		background: var(--tt-button-primary-hover);
	}
}

.tt-button-primary:active:not(:disabled) {
	background: var(--tt-button-primary-pressed);
}

/* Secondary Button - Alternative action */
.tt-button-secondary {
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	background: var(--tt-background-card);
	color: var(--tt-text-primary);
}

@media (hover: hover) {
	.tt-button-secondary:hover:not(:disabled) {
		background: var(--tt-background-card-hover);
	}
}

.tt-button-secondary:active:not(:disabled) {
	background: var(--tt-background-card-pressed);
}

/* Ghost Button - Minimal style */
.tt-button-ghost {
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	background: transparent;
	color: var(--tt-text-secondary);
}

.tt-button-ghost:active:not(:disabled) {
	background: var(--tt-background-card-pressed);
}

/* Danger Button - Destructive action (solid red) */
.tt-button-danger {
	border: none;
	background: var(--tt-status-danger-500);
	color: white;
}

@media (hover: hover) {
	.tt-button-danger:hover:not(:disabled) {
		background: var(--tt-status-danger-600);
	}
}

.tt-button-danger:active:not(:disabled) {
	background: var(--tt-status-danger-700);
}

/* Danger Outline Button - Destructive action (outline style) */
.tt-button-danger-outline {
	border: 1px solid var(--tt-status-danger-500);
	background: var(--tt-white);
	color: var(--tt-status-danger-500);
}

@media (hover: hover) {
	.tt-button-danger-outline:hover:not(:disabled) {
		background: var(--tt-status-danger-800);
	}
}

.tt-button-danger-outline:active:not(:disabled) {
	background: var(--tt-state-danger-pressed);
}

/**
 * Small Button modifier - reduces size
 */
.tt-button-small {
	padding: var(--tt-space-8) var(--tt-space-16);
	min-height: 36px;
	font-size: var(--tt-font-size-small);
}

/**
 * Full-width Button modifier - stretches to container width
 * Use for: Auth forms, settings actions, modal actions
 */
.tt-button-full {
	width: 100%;
	box-sizing: border-box;
}

/**
 * SYMBOL BUTTONS - Unified borderless icon buttons
 * Used for: Sync, Profile, Resume/Play, Delete, etc.
 * All symbol buttons are borderless with hover background only
 * Uses Material Design 3 inspired state layers for universal compatibility
 * 
 * Architecture: Shared base properties + color variants
 */

/* Shared base properties for all symbol buttons */
.tt-symbol-button,
.tt-action-button,
.tt-delete-button {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 40px;
	height: 40px;
	padding: 0;
	border: none;
	background: transparent;
	border-radius: var(--tt-radius-button);
	cursor: pointer;
	transition:
		background var(--tt-transition-fast),
		color var(--tt-transition-fast);
}

/* Shared SVG sizing for all symbol buttons */
.tt-symbol-button svg,
.tt-action-button svg,
.tt-delete-button svg {
	width: 20px;
	height: 20px;
}

/**
 * Symbol button variants - color and state differences only
 */

/* Default Symbol Button - Gray icon */
.tt-symbol-button {
	color: var(--tt-gray-700);
}

@media (hover: hover) {
	.tt-symbol-button:hover {
		background: var(--tt-state-hover);
	}
}

.tt-symbol-button:active {
	background: var(--tt-state-pressed);
}

/* Action Button - Primary color (blue) */
.tt-action-button {
	color: var(--tt-brand-primary-500);
}

.tt-action-button:hover {
	background: var(--tt-brand-primary-800);
}

/* Delete Button - Danger color on hover (red) */
.tt-delete-button {
	color: var(--tt-gray-700);
}

@media (hover: hover) {
	.tt-delete-button:hover {
		background: var(--tt-state-danger-hover);
		color: var(--tt-status-danger-500);
	}
}

.tt-delete-button:active {
	background: var(--tt-state-danger-pressed);
	color: var(--tt-status-danger-600);
}

/* ============================================================================
   F) HEADER NAVIGATION - Back/Forward browser buttons
   ============================================================================ */

/**
 * Header Navigation Button - Back/Forward buttons in header
 * Used in: BackButton, ForwardButton components
 */
.tt-header-nav-button {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 40px;
	height: 40px;
	padding: 0;
	border: none;
	background: transparent;
	color: var(--tt-header-text);
	border-radius: var(--tt-radius-button);
	cursor: pointer;
	transition:
		background 0.15s,
		opacity 0.15s;
}

.tt-header-nav-button:disabled {
	opacity: 0.3;
	cursor: not-allowed;
}

@media (hover: hover) {
	.tt-header-nav-button:hover:not(:disabled) {
		background: rgba(255, 255, 255, 0.12);
	}
}

.tt-header-nav-button:active:not(:disabled) {
	background: rgba(255, 255, 255, 0.2);
}

.tt-header-nav-button__icon {
	width: 20px;
	height: 20px;
}

/* ============================================================================
   G) FORM FIELDS & MESSAGES
   ============================================================================ */

/**
 * Form Field - Container for label + input
 * Used in: CategoryDialog, EmployerDialog, other forms
 */
.tt-form-field {
	display: flex;
	flex-direction: column;
	gap: var(--tt-space-4);
}

.tt-form-field__label {
	font-size: var(--tt-font-size-body);
	font-weight: 500;
	color: var(--tt-text-primary);
}

/**
 * Info Message - Informational message box
 * Used in: Dialogs, forms
 */
.tt-info-message {
	margin: 0;
	padding: var(--tt-space-8);
	background: var(--tt-background-card-hover);
	border: 1px solid var(--tt-border-default);
	border-radius: var(--tt-radius-input);
	color: var(--tt-text-muted);
	font-size: var(--tt-font-size-body);
}

/**
 * Error Message - Error message box
 * Used in: Dialogs, forms
 */
.tt-error-message {
	margin: 0;
	padding: var(--tt-space-8);
	background: var(--tt-status-danger-800);
	border: 1px solid var(--tt-status-danger-500);
	border-radius: var(--tt-radius-input);
	color: var(--tt-status-danger-500);
	font-size: var(--tt-font-size-body);
}

/**
 * Form Actions - Button container at bottom of forms
 * Used in: Dialogs, forms
 */
.tt-form-actions {
	display: flex;
	flex-wrap: wrap;
	gap: var(--tt-space-8) var(--tt-space-12);
	justify-content: flex-end;
	padding-top: var(--tt-space-8);
	border-top: 1px solid var(--tt-border-default);
}

/* ============================================================================
   H) DATE NAVIGATION - Day/Week/Month navigation buttons
   ============================================================================ */

/**
 * Navigation Button - Previous/Next navigation buttons
 * Used on: Day, Week, Month pages
 */
.tt-nav-button {
	display: flex;
	align-items: center;
	justify-content: center;
	gap: var(--tt-space-8);
	min-width: 44px;
	height: 44px;
	padding: 0 0.75rem;
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	color: var(--tt-text-primary);
	font-size: var(--tt-font-size-small);
	font-weight: 500;
	cursor: pointer;
	border-radius: var(--tt-radius-button);
}

.tt-nav-button__chevron {
	width: 18px;
	height: 18px;
	flex-shrink: 0;
}

.tt-nav-button__label {
	line-height: 1;
}

/**
 * Date Selector Button - Clickable date/week/month title
 * Used on: Day, Week, Month pages
 */
.tt-date-selector-button {
	margin: 0;
	font-size: var(--tt-font-size-title);
	font-weight: 600;
	padding: 0.5rem 1rem;
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	text-align: center;
	cursor: pointer;
	border-radius: var(--tt-radius-card);
	color: var(--tt-text-primary);
	min-height: 44px;
}

.tt-date-selector-button__prefix {
	font-size: var(--tt-font-size-normal);
	font-weight: 500;
}

.tt-date-selector-button__date {
	font-size: var(--tt-font-size-title);
	font-weight: 600;
	color: var(--tt-brand-accent-300);
}

/* ============================================================================
   G) DIALOG & MODAL COMPONENTS
   ============================================================================ */

/**
 * Dialog Message Text - Standard message text in dialogs
 * Used in: ConfirmDialog, alert dialogs
 */
.tt-dialog-message {
	margin: 0;
	font-size: var(--tt-font-size-normal);
	line-height: 1.5;
	color: var(--tt-text-primary);
}

/**
 * Modal Components - Visual styles for modal elements
 */
.tt-modal-backdrop {
	background: var(--tt-backdrop-bg);
}

.tt-modal-content {
	background: var(--tt-background-card);
	border-radius: var(--tt-radius-modal);
	box-shadow: var(--tt-shadow-modal);
	/* Prevent horizontal overflow in dialogs */
	max-width: calc(100vw - 32px);
	overflow-x: hidden;
	box-sizing: border-box;
}

.tt-modal-header {
	border-bottom: 1px solid var(--tt-border-default);
}

.tt-modal-header__title {
	margin: 0;
	font-size: var(--tt-font-size-title);
	font-weight: 600;
	color: var(--tt-text-primary);
}

/* ============================================================================
   H) INFO & HINT COMPONENTS
   ============================================================================ */

/**
 * Info Hint Box - Informational message boxes
 * Used in: Add page first-time hint, onboarding messages
 */
.tt-info-hint {
	background: var(--tt-status-info-faded);
	color: var(--tt-brand-primary-500);
	padding: var(--tt-space-12) var(--tt-space-16);
	border-radius: var(--tt-radius-card);
	font-size: var(--tt-font-size-small);
	text-align: center;
	border: 1px solid var(--tt-brand-primary-500);
}

/**
 * Loading State Text - Standard loading message
 */
.tt-loading-text {
	color: var(--tt-text-muted);
	text-align: center;
	padding: var(--tt-space-32);
}

/* ============================================================================
   I) COLLAPSIBLE SECTIONS & TOGGLES
   ============================================================================ */

/**
 * Section Toggle - Collapsible section header button
 * Used in: Analysis page, Settings page
 */
.tt-section-toggle {
	background: none;
	border: none;
	cursor: pointer;
	text-align: left;
}

.tt-section-toggle__icon {
	display: inline-block;
	font-size: 0.7rem;
	color: var(--tt-text-muted);
	transition: transform 0.2s ease;
}

.tt-section-toggle__icon--expanded {
	transform: rotate(90deg);
}

.tt-section-toggle__title {
	margin: 0;
	font-size: var(--tt-font-size-normal);
	font-weight: 600;
	color: var(--tt-text-primary);
}

/**
 * Empty State Text - "No items" messages
 */
.tt-empty-state {
	text-align: center;
	color: var(--tt-text-muted);
	padding: var(--tt-space-32);
}

/**
 * Page Header - Centered page title card
 */
.tt-page-header {
	padding: 0.75rem 1rem;
	background-color: var(--tt-background-card);
	border-radius: var(--tt-radius-card);
	border: 1px solid var(--tt-border-default);
	text-align: center;
}

.tt-page-header__title {
	margin: 0;
	font-size: 1.1rem;
	font-weight: 600;
	color: var(--tt-text-primary);
}

/* ============================================================================
   J) ANALYSIS PAGE COMPONENTS
   ============================================================================ */

/**
 * Range Button - Date range selector button in Analysis page
 */
.tt-range-button {
	padding: 0.5rem 1rem;
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	background: var(--tt-background-card);
	color: var(--tt-text-primary);
	font-size: var(--tt-font-size-title);
	font-weight: 600;
	cursor: pointer;
	text-align: center;
	white-space: nowrap;
	border-radius: var(--tt-radius-card);
	min-height: 44px;
}

.tt-range-button__date {
	color: var(--tt-brand-accent-300);
}

/**
 * Period Hours Display - Ist/Soll/Saldo display in period rows
 */
.tt-period-hours {
	font-size: var(--tt-font-size-body);
	color: var(--tt-text-muted);
}

.tt-period-hours__ist {
	color: var(--tt-text-primary);
}

.tt-period-hours__separator {
	color: var(--tt-text-muted);
}

.tt-period-hours__soll {
	color: var(--tt-text-muted);
}

.tt-period-hours__saldo--positive {
	color: var(--tt-saldo-positive);
}

.tt-period-hours__saldo--negative {
	color: var(--tt-status-danger-500);
}

/**
 * No Work Badge - Small badge for non-work periods
 */
.tt-no-work-badge {
	font-size: 0.7rem;
	padding: 2px 6px;
	background: var(--tt-background-card-hover);
	color: var(--tt-text-muted);
	border-radius: var(--tt-radius-input);
}

/**
 * Column Header Label - Small header labels in tables
 */
.tt-column-header-label {
	font-size: var(--tt-font-size-tiny);
	color: var(--tt-text-muted);
	min-width: 60px;
	text-align: right;
}

/**
 * Summary Total Row - Highlighted summary row in Analysis
 */
.tt-summary-total-row {
	background: var(--tt-status-info-faded);
	border: 1px solid var(--tt-border-default);
	border-radius: var(--tt-radius-card);
	padding: var(--tt-space-12) var(--tt-space-16);
}

.tt-summary-total-row__label {
	font-weight: 700;
	color: var(--tt-brand-primary-500);
}

/**
 * Category Name - Category text in analysis rows
 */
.tt-category-name {
	color: var(--tt-text-primary);
}

/**
 * Summary Value - Numeric values in summary displays
 */
.tt-summary-value {
	font-weight: 600;
	color: var(--tt-text-primary);
	min-width: 60px;
	text-align: right;
}

.tt-summary-value--primary {
	font-weight: 700;
	color: var(--tt-brand-primary-500);
}

.tt-summary-value--secondary {
	font-weight: 500;
	color: var(--tt-text-muted);
}

/* ============================================================================
   K) SETTINGS PAGE COMPONENTS
   ============================================================================ */

/**
 * Section Header - Settings section headers with hover effect
 */
.tt-settings-section-header__title:hover {
	color: var(--tt-brand-primary-500);
}

/**
 * Dropdown Menu - Settings dropdown menus
 */
.tt-dropdown-menu {
	position: absolute;
	top: 100%;
	right: 0;
	margin-top: var(--tt-space-4);
	background: var(--tt-background-card);
	border: 1px solid var(--tt-border-default);
	border-radius: var(--tt-radius-card);
	box-shadow: var(--tt-shadow-modal);
	z-index: 100;
	min-width: 160px;
	overflow: hidden;
}

.tt-dropdown-item {
	padding: var(--tt-space-12) var(--tt-space-16);
	background: none;
	border: none;
	width: 100%;
	text-align: left;
	cursor: pointer;
	transition: background var(--tt-transition-fast);
	color: var(--tt-text-primary);
}

.tt-dropdown-item:hover {
	background: var(--tt-state-hover);
}

.tt-dropdown-item:not(:last-child) {
	border-bottom: 1px solid var(--tt-border-subtle);
}

.tt-dropdown-icon {
	width: 20px;
	height: 20px;
	flex-shrink: 0;
	color: var(--tt-text-secondary);
}

.tt-dropdown-item--danger {
	color: var(--tt-status-danger-500);
}

.tt-dropdown-item--danger:hover {
	background: var(--tt-state-danger-hover);
}

/**
 * Account Info - Account information display card
 */
.tt-account-info {
	padding: var(--tt-space-16);
	background: var(--tt-background-card);
	border: 1px solid var(--tt-border-default);
	border-radius: var(--tt-radius-card);
}

.tt-account-label {
	font-weight: 500;
	color: var(--tt-text-muted);
}

.tt-account-value {
	color: var(--tt-text-primary);
}

/**
 * Plan Text - Subscription plan display
 */
.tt-plan-text {
	font-weight: 600;
	color: var(--tt-brand-primary-500);
}

/**
 * Version Info - App version display
 */
.tt-version-label {
	font-weight: 500;
}

.tt-build-time {
	font-size: var(--tt-font-size-tiny);
	color: var(--tt-text-muted);
}

/**
 * Delete Account Error - Error message styling
 */
.tt-delete-account-error {
	font-size: var(--tt-font-size-small);
	color: var(--tt-status-danger-500);
	text-align: center;
}

/**
 * Empty List Message - "No items" in lists
 */
.tt-empty-list {
	text-align: center;
	color: var(--tt-text-muted);
	padding: var(--tt-space-16);
	margin: 0;
}

/**
 * Empty State - Full empty state with text and action button
 * Used in: TaskList, other list components
 */
.tt-empty-state {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--tt-space-16);
	padding: var(--tt-space-32);
}

.tt-empty-state__text {
	color: var(--tt-text-muted);
	font-style: italic;
	margin: 0;
}

.tt-empty-state__button {
	text-decoration: none; /* Remove underline from link */
}

/* ============================================================================
   L) STATUS INDICATORS & BANNERS
   ============================================================================ */

/**
 * Warning Banner - Warning message display
 */
.tt-warning-banner {
	padding: 0.75rem 1rem;
	background: var(--tt-status-warning-50);
	border: 1px solid var(--tt-status-warning-500);
	border-radius: var(--tt-radius-card);
	color: var(--tt-status-warning-500);
}

.tt-warning-banner--clickable {
	cursor: pointer;
}

.tt-warning-banner--clickable:hover {
	background: var(--tt-status-warning-50);
	filter: brightness(0.95);
}

.tt-warning-banner__icon {
	font-size: 1.1rem;
}

.tt-warning-banner__message {
	font-size: var(--tt-font-size-body);
	font-weight: 500;
}

.tt-warning-banner__action {
	margin-left: auto;
	padding: 0.25rem 0.75rem;
	border: 1px solid var(--tt-brand-primary-500);
	background: var(--tt-brand-primary-500);
	color: white;
	font-size: var(--tt-font-size-small);
	font-weight: 500;
	cursor: pointer;
	border-radius: var(--tt-radius-button);
	white-space: nowrap;
}

.tt-warning-banner__action:hover {
	background: var(--tt-brand-primary-dark);
}

/**
 * Sync Indicator - Sync status display
 */
.tt-sync-indicator {
	display: inline-flex;
	align-items: center;
	gap: 6px;
	padding: 4px 10px;
	border-radius: var(--tt-radius-pill);
	background-color: var(--indicator-bg);
	color: var(--indicator-color);
	font-size: var(--tt-font-size-tiny);
	font-weight: 500;
	cursor: default;
	user-select: none;
}

.tt-sync-indicator__icon {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	width: 16px;
	height: 16px;
	font-size: var(--tt-font-size-small);
	font-weight: 700;
}

.tt-sync-indicator__icon--spinning {
	animation: tt-spin 1s linear infinite;
}

@keyframes tt-spin {
	from {
		transform: rotate(0deg);
	}
	to {
		transform: rotate(360deg);
	}
}

.tt-sync-indicator__label {
	white-space: nowrap;
}

@media (max-width: 360px) {
	.tt-sync-indicator__label {
		display: none;
	}

	.tt-sync-indicator {
		padding: 4px 8px;
	}
}

@media (prefers-color-scheme: dark) {
	.tt-sync-indicator {
		background-color: color-mix(in srgb, var(--indicator-bg) 30%, #1f1f1f);
	}
}

/* ============================================================================
   M) SUMMARY DISPLAY - Ist/Soll/Haben inline display
   ============================================================================ */

.tt-summary-display {
	display: flex;
	align-items: center;
	gap: var(--tt-space-16);
	padding: var(--tt-space-12) var(--tt-space-16);
	background: var(--tt-brand-primary-100);
	border: none;
	border-radius: var(--tt-radius-card);
}

.tt-summary-display__item {
	display: inline-flex;
	align-items: center;
	gap: var(--tt-space-4);
}

.tt-summary-display__label {
	color: var(--tt-text-muted);
	font-size: var(--tt-font-size-small);
}

.tt-summary-display__value {
	font-size: var(--tt-font-size-small);
	font-weight: var(--tt-font-weight-semibold);
	color: var(--tt-text-primary);
}

.tt-summary-display__value-positive {
	color: var(--tt-saldo-positive);
}

.tt-summary-display__value-negative {
	color: var(--tt-status-danger-500);
}

.tt-summary-label {
	color: var(--tt-text-primary);
	font-size: var(--tt-font-size-small);
	font-weight: var(--tt-font-weight-medium);
	white-space: nowrap;
}

/* ============================================================================
   H) UTILITIES
   ============================================================================ */

/**
 * INTERACTIVE STATE CLASSES
 * Unified hover/active states using the state layer system.
 * IMPORTANT: Do NOT set local `background` in component CSS when using these classes.
 * The class handles both base background AND hover states to avoid specificity conflicts.
 * 
 * CLASSES:
 * - .tt-interactive        : Transparent bg → semi-transparent black overlay on hover
 * - .tt-interactive-card   : White card bg → semi-transparent black overlay on hover
 * - .tt-interactive-dark   : Transparent bg → white overlay on hover (for dark headers)
 * - .tt-interactive-accent : Accent-100 bg → Accent-200 on hover (for running tasks)
 * - .tt-interactive-danger : Transparent bg → red tint overlay + red text on hover
 * 
 * USAGE GUIDE:
 * | Context                    | Class                    |
 * |----------------------------|--------------------------|
 * | Buttons on light bg        | .tt-interactive-card     |
 * | Buttons on dark header     | .tt-interactive-dark     |
 * | List rows (white bg)       | .tt-list-row-clickable   |
 * | Running task banner        | .tt-interactive-accent   |
 * | Delete/danger buttons      | .tt-interactive-danger   |
 * | Chips/pills                | .tt-chip (has own hover) |
 */

/* Basic interactive element - for elements with transparent/inherited background.
 * Use .tt-interactive-card for elements that need a card background.
 */
.tt-interactive {
	transition: background var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-interactive:hover {
		background: var(--tt-state-hover);
	}
}

.tt-interactive:active {
	background: var(--tt-state-pressed);
}

/* Card variant - Composite class: Card background + interactive states.
 * Use this instead of local `background: var(--tt-background-card)` + .tt-interactive
 * to avoid specificity conflicts with Svelte scoped CSS.
 * 
 * NOTE: Uses solid colors (card-hover/pressed) not transparent overlays,
 * because setting background replaces the white card bg entirely.
 */
.tt-interactive-card {
	background: var(--tt-background-card);
	transition: background var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-interactive-card:hover {
		background: var(--tt-background-card-hover);
	}
}

.tt-interactive-card:active {
	background: var(--tt-background-card-pressed);
}

/* Danger variant - red tinted overlays */
.tt-interactive-danger {
	transition:
		background var(--tt-transition-fast),
		color var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-interactive-danger:hover {
		background: var(--tt-state-danger-hover);
		color: var(--tt-status-danger-500);
	}
}

.tt-interactive-danger:active {
	background: var(--tt-state-danger-pressed);
	color: var(--tt-status-danger-600);
}

/* Dark context variant - white overlays for dark backgrounds (header, etc.)
 * Use on elements inside .app-header or other dark containers.
 */
.tt-interactive-dark {
	background: transparent;
	transition: background var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-interactive-dark:hover {
		background: var(--tt-white-10);
	}
}

.tt-interactive-dark:active {
	background: var(--tt-white-20);
}

/* Accent variant - for elements with accent background (running task, etc.)
 * Maintains the accent background while adding hover feedback.
 */
.tt-interactive-accent {
	background: var(--tt-brand-accent-100);
	transition: background var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-interactive-accent:hover {
		background: var(--tt-brand-accent-200);
	}
}

.tt-interactive-accent:active {
	background: var(--tt-brand-accent-300);
}

/**
 * Play Icon (CSS triangle)
 */
.tt-play-icon {
	width: 0;
	height: 0;
	border-top: 6px solid transparent;
	border-bottom: 6px solid transparent;
	border-left: 10px solid currentColor;
	margin-left: 2px;
}

/* ============================================================================
   I) NAVIGATION COMPONENTS
   ============================================================================ */

/* Nav direction buttons (Zurück/Vor) - same style as symbol buttons */
.tt-nav-direction {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 40px;
	height: 40px;
	padding: 0;
	background: var(--tt-background-card);
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	border-radius: var(--tt-radius-button);
	color: var(--tt-text-secondary);
	cursor: pointer;
}

/* Active state: only background changes, border stays same */
.tt-nav-direction:active {
	background: var(--tt-background-card-pressed);
}

.tt-nav-direction:disabled {
	opacity: 0.4;
	cursor: not-allowed;
}

.tt-nav-direction svg {
	width: 20px;
	height: 20px;
}

/* Tab navigation button (icon + label stacked) - NOT CURRENTLY USED
 * Renamed from .tt-nav-button to avoid conflict with date navigation buttons
 * Keep for future use or remove if not needed
 */
.tt-tab-button {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--tt-space-4);
	padding: var(--tt-space-8) var(--tt-space-12);
	background: transparent;
	border: none;
	border-radius: var(--tt-radius-button);
	color: var(--tt-text-muted);
	font-size: var(--tt-font-size-tiny);
	cursor: pointer;
	transition: color var(--tt-transition-fast);
}

.tt-tab-button:hover {
	color: var(--tt-text-primary);
}

.tt-tab-button.is-active {
	color: var(--tt-brand-primary-500);
}

.tt-tab-button svg {
	width: 24px;
	height: 24px;
}

/* ============================================================================
   K2) FOOTER TAB NAVIGATION
   
   Dark background footer with tab-style links.
   States:
   - Default: transparent bg, border for touchable affordance
   - Pressed (:active): lightest bg (strongest feedback)
   - Current ([aria-current="page"]): lighter bg, persistent
   ============================================================================ */

.tt-footer-nav {
	position: fixed;
	bottom: 0;
	left: 50%;
	transform: translateX(-50%);
	width: 100%;
	max-width: var(--tt-app-max-width);
	z-index: 100;
	display: flex;
	flex-wrap: nowrap;
	justify-content: stretch;
	background: transparent;
	border-top: none;
	border-radius: var(--tt-radius-card) var(--tt-radius-card) 0 0;
	padding: var(--tt-space-8);
	gap: var(--tt-space-4);
	box-sizing: border-box;
	/* Toggle variable: set to 1 to enable line, 0 to disable */
	--footer-line-enabled: 1;
}

/* Line under buttons - positioned inside footer area */
.tt-footer-nav::after {
	content: '';
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: calc(4px * var(--footer-line-enabled));
	background: transparent;
	pointer-events: none;
}

/* Dynamic line colors based on selected tab */
.tt-footer-nav:has(.tt-footer-tab--plus[aria-current='page'])::after {
	background: var(--tt-brand-primary-500);
}

.tt-footer-nav:has(.tt-footer-tab--day[aria-current='page'])::after {
	background: var(--tt-brand-accent-100);
}

.tt-footer-nav:has(.tt-footer-tab--week[aria-current='page'])::after {
	background: var(--tt-brand-accent-200);
}

.tt-footer-nav:has(.tt-footer-tab--month[aria-current='page'])::after {
	background: var(--tt-brand-accent-300);
}

.tt-footer-nav:has(.tt-footer-tab--analysis[aria-current='page'])::after {
	background: var(--tt-brand-primary-500);
}

.tt-footer-tab {
	flex: 1 1 0;
	min-width: 0;
	display: flex;
	justify-content: center;
	align-items: center;
	min-height: 38px;
	padding: var(--tt-space-8) var(--tt-space-12);
	text-decoration: none;
	color: var(--tt-footer-tab-text);
	font-size: var(--tt-font-size-small);
	font-weight: var(--tt-font-weight-normal);
	white-space: nowrap;
	border-radius: var(--tt-radius-button);
	border: 2px solid transparent;
	background: var(--tt-brand-accent-300); /* Default for tabs without specific color class */
	transition:
		border-color var(--tt-transition-fast),
		font-weight var(--tt-transition-fast),
		background var(--tt-transition-fast);
}

/* Current tab: keep normal colors, modify shape - extends down to touch the line */
.tt-footer-tab[aria-current='page'] {
	font-weight: var(--tt-font-weight-bold);
	border-radius: var(--tt-radius-button) var(--tt-radius-button) 0 0;
	padding-bottom: calc(var(--tt-space-8) + 4px);
	margin-bottom: -4px;
	/* Active tab extends 4px into the 8px bottom padding, leaving 4px gap to line top */
}

/* Narrow screens: maintain aspect ratio as buttons get narrower */
@media (max-width: 500px) {
	.tt-footer-tab {
		min-height: unset;
		max-height: 38px; /* Cap at normal height to prevent jump */
		aspect-ratio: 1.5 / 1; /* Width:Height ratio - buttons stay proportional */
		padding: var(--tt-space-4);
	}

	/* Active tab extension must match mobile padding */
	.tt-footer-tab[aria-current='page'] {
		padding-bottom: calc(var(--tt-space-4) + 4px);
	}
}

.tt-footer-tab svg {
	width: 20px;
	height: 20px;
	stroke-width: 2;
}

/* Bold stroke for selected tab icons */
.tt-footer-tab[aria-current='page'] svg {
	stroke-width: 3;
}

/* ==========================================================================
   FOOTER TAB COLORS - Material UI 3 State Layers
   - Normal: base color
   - Hover: 8% dark overlay (primary-700 for light bg, white for dark bg)
   - Active/Pressed: 12% dark overlay
   - Selected: same as normal (shape changes, not color)
   ========================================================================== */

/* Plus tab (Add button): brand primary 500 */
.tt-footer-tab--plus {
	font-size: 1.5rem;
	font-weight: var(--tt-font-weight-bold);
	background: var(--tt-brand-primary-500);
	color: var(--tt-white);
}

@media (hover: hover) {
	.tt-footer-tab--plus:hover {
		background: color-mix(in srgb, var(--tt-white) 8%, var(--tt-brand-primary-500));
	}
}

.tt-footer-tab--plus:active {
	background: color-mix(in srgb, var(--tt-white) 12%, var(--tt-brand-primary-500));
}

/* Analysis tab: brand primary 500 (same as Plus) */
.tt-footer-tab--analysis {
	background: var(--tt-brand-primary-500);
	color: var(--tt-white);
}

@media (hover: hover) {
	.tt-footer-tab--analysis:hover {
		background: color-mix(in srgb, var(--tt-white) 8%, var(--tt-brand-primary-500));
	}
}

.tt-footer-tab--analysis:active {
	background: color-mix(in srgb, var(--tt-white) 12%, var(--tt-brand-primary-500));
}

/* Day tab (Tag): brand accent 100 */
.tt-footer-tab--day {
	background: var(--tt-brand-accent-100);
}

@media (hover: hover) {
	.tt-footer-tab--day:hover {
		background: color-mix(in srgb, var(--tt-brand-primary-700) 8%, var(--tt-brand-accent-100));
	}
}

.tt-footer-tab--day:active {
	background: color-mix(in srgb, var(--tt-brand-primary-700) 12%, var(--tt-brand-accent-100));
}

/* Week tab (Woche): brand accent 200 */
.tt-footer-tab--week {
	background: var(--tt-brand-accent-200);
}

@media (hover: hover) {
	.tt-footer-tab--week:hover {
		background: color-mix(in srgb, var(--tt-brand-primary-700) 8%, var(--tt-brand-accent-200));
	}
}

.tt-footer-tab--week:active {
	background: color-mix(in srgb, var(--tt-brand-primary-700) 12%, var(--tt-brand-accent-200));
}

/* Month tab (Monat): brand accent 300 */
.tt-footer-tab--month {
	background: var(--tt-brand-accent-300);
}

@media (hover: hover) {
	.tt-footer-tab--month:hover {
		background: color-mix(in srgb, var(--tt-brand-primary-700) 8%, var(--tt-brand-accent-300));
	}
}

.tt-footer-tab--month:active {
	background: color-mix(in srgb, var(--tt-brand-primary-700) 12%, var(--tt-brand-accent-300));
}

/* ============================================================================
   L) FORM ELEMENTS
   ============================================================================ */

/* Dropdown (select) */
.tt-dropdown {
	appearance: none;
	padding: var(--tt-space-8) var(--tt-space-12);
	padding-right: var(--tt-space-32);
	font-size: var(--tt-font-size-normal);
	color: var(--tt-text-primary);
	background: var(--tt-background-card);
	border: var(--tt-border-touchable-width) solid var(--tt-border-touchable-color);
	border-radius: var(--tt-radius-button);
	cursor: pointer;
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23718096' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
	background-repeat: no-repeat;
	background-position: right var(--tt-space-12) center;
	transition:
		background var(--tt-transition-fast),
		border-color var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-dropdown:hover {
		background-color: var(--tt-state-hover);
		background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23718096' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
		background-repeat: no-repeat;
		background-position: right var(--tt-space-12) center;
		border-color: var(--tt-border-default);
	}
}

.tt-dropdown:active {
	background-color: var(--tt-state-pressed);
	background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23718096' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
	background-repeat: no-repeat;
	background-position: right var(--tt-space-12) center;
}

.tt-dropdown:focus {
	outline: none;
	border-color: var(--tt-brand-primary-500);
	box-shadow: 0 0 0 3px var(--tt-brand-primary-800);
}

/* Dropdown options styling (limited browser support) */
.tt-dropdown option {
	padding: var(--tt-space-8) var(--tt-space-12);
	background: var(--tt-background-card);
	color: var(--tt-text-primary);
}

.tt-dropdown option:hover {
	background: var(--tt-brand-primary-500);
	color: white;
}

.tt-dropdown option:checked {
	background: var(--tt-brand-primary-800);
	color: var(--tt-brand-primary-500);
}

/* Text input */
.tt-text-input {
	width: 100%;
	padding: var(--tt-space-8) var(--tt-space-12);
	font-size: var(--tt-font-size-normal);
	color: var(--tt-text-primary);
	background: var(--tt-background-input);
	border: 1px solid var(--tt-border-subtle);
	border-radius: var(--tt-radius-input);
	box-sizing: border-box;
	transition:
		background var(--tt-transition-fast),
		border-color var(--tt-transition-fast);
}

.tt-text-input::placeholder {
	color: var(--tt-text-muted);
}

@media (hover: hover) {
	.tt-text-input:hover {
		background: var(--tt-background-input-hover);
		border-color: var(--tt-border-default);
	}
}

.tt-text-input:focus {
	outline: none;
	border-color: var(--tt-brand-primary-500);
	box-shadow: 0 0 0 3px var(--tt-brand-primary-800);
}

/* Input width modifiers */
.tt-text-input--narrow {
	width: 60px;
	text-align: center;
}

.tt-text-input--medium {
	width: 120px;
}

.tt-text-input--full {
	width: 100%;
}

/* Date input - unified styling */
.tt-date-input {
	padding: var(--tt-space-8) var(--tt-space-12);
	font-size: var(--tt-font-size-normal);
	color: var(--tt-text-primary);
	background: var(--tt-background-input);
	border: 1px solid var(--tt-border-subtle);
	border-radius: var(--tt-radius-input);
	box-sizing: border-box;
	transition:
		background var(--tt-transition-fast),
		border-color var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-date-input:hover {
		background: var(--tt-background-input-hover);
		border-color: var(--tt-border-default);
	}
}

.tt-date-input:focus {
	outline: none;
	border-color: var(--tt-brand-primary-500);
	box-shadow: 0 0 0 3px var(--tt-brand-primary-800);
}

/* Checkbox - unified styling */
.tt-checkbox {
	width: 18px;
	height: 18px;
	margin: 0;
	cursor: pointer;
	accent-color: var(--tt-brand-primary-500);
	border-radius: var(--tt-radius-badge);
}

/* Checkbox container for labeled checkboxes */
.tt-checkbox-label {
	display: flex;
	align-items: center;
	gap: var(--tt-space-8);
	padding: var(--tt-space-8) var(--tt-space-12);
	border: 1px solid var(--tt-border-subtle);
	border-radius: var(--tt-radius-input);
	cursor: pointer;
	font-size: var(--tt-font-size-normal);
	transition:
		background var(--tt-transition-fast),
		border-color var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-checkbox-label:hover {
		background: var(--tt-background-card-hover);
	}
}

.tt-checkbox-label:has(input:checked) {
	border-color: var(--tt-brand-primary-500);
	background: var(--tt-brand-primary-800);
}

/**
 * Labeled Dropdown Row
 * A static row containing a label and dropdown side-by-side.
 * Use for: Tagesart on Day page, Wochenart on Week page.
 * 
 * Structure:
 * <div class="tt-labeled-dropdown">
 *   <span class="tt-labeled-dropdown__label">Tagesart</span>
 *   <select class="tt-dropdown">...</select>
 * </div>
 */
.tt-labeled-dropdown {
	display: flex;
	align-items: center;
	justify-content: space-between;
	gap: var(--tt-space-12);
	padding: 0 0 0 var(--tt-space-16);
	background: var(--tt-background-page);
	border: none;
	border-radius: 0;
}

.tt-labeled-dropdown__label {
	color: var(--tt-text-secondary);
	font-size: var(--tt-font-size-normal);
}

/* ============================================================================
   M) BACKWARD COMPATIBILITY - Legacy class names
   
   STATUS: DEPRECATED - Still used in 2 files (settings/+page.svelte, CategoryBadge.svelte)
   TODO: Migrate remaining usages to new class names, then remove this section
   
   Old → New mappings:
   - .tt-row → .tt-list-row / .tt-list-row-clickable / .tt-list-row-static
   - .tt-badge → .tt-inline-label-*
   - .tt-btn → .tt-button-*
   - .tt-btn-delete → .tt-delete-button
   ============================================================================ */

/* Old row classes - redirect to new behavior */
.tt-row {
	display: flex;
	align-items: center;
	gap: var(--tt-space-12);
	padding: var(--tt-space-12) var(--tt-space-16);
	min-height: 44px;
	background: var(--tt-background-card);
	border: 1px solid var(--tt-border-subtle);
	border-radius: var(--tt-radius-card);
	font-size: var(--tt-font-size-normal);
	color: var(--tt-text-primary);
	box-sizing: border-box;
	transition:
		background var(--tt-transition-fast),
		border-color var(--tt-transition-fast);
}

.tt-row--nav,
.tt-row--action {
	cursor: pointer;
}

.tt-row--nav:hover,
.tt-row--action:hover {
	background: var(--tt-background-card-hover);
	border-color: var(--tt-border-default);
}

.tt-row--info,
.tt-row--summary {
	cursor: default;
}

.tt-row--info:hover,
.tt-row--summary:hover {
	background: var(--tt-background-card);
	border-color: var(--tt-border-subtle);
}

/* Old badge classes */
.tt-badge {
	display: inline-flex;
	align-items: center;
	gap: var(--tt-space-4);
	padding: 2px var(--tt-space-8);
	font-size: var(--tt-font-size-tiny);
	font-weight: var(--tt-font-weight-medium);
	line-height: 1.4;
	border-radius: var(--tt-radius-badge);
	white-space: nowrap;
	width: fit-content;
	flex-shrink: 0;
}

.tt-badge--employer {
	background: var(--tt-brand-primary-800);
	color: var(--tt-brand-primary-500);
}

.tt-badge--no-work {
	background: var(--tt-background-page);
	color: var(--tt-text-muted);
}

.tt-badge--label {
	background: var(--tt-background-card-pressed);
	color: var(--tt-text-secondary);
}

/* Old button classes */
.tt-btn {
	display: inline-flex;
	align-items: center;
	justify-content: center;
	gap: var(--tt-space-8);
	padding: var(--tt-space-8) var(--tt-space-16);
	min-height: 40px;
	font-size: var(--tt-font-size-small);
	font-weight: var(--tt-font-weight-semibold);
	line-height: 1;
	border-radius: var(--tt-radius-button);
	border: 1px solid transparent;
	cursor: pointer;
	transition:
		background var(--tt-transition-fast),
		border-color var(--tt-transition-fast);
	white-space: nowrap;
}

/* NOTE: .tt-button-primary is defined in section F) BUTTONS above */

.tt-btn--sm {
	padding: var(--tt-space-4) var(--tt-space-12);
	min-height: 32px;
	font-size: var(--tt-font-size-tiny);
}

.tt-btn-delete {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 40px;
	height: 40px;
	padding: 0;
	margin-left: auto;
	border: none;
	background: transparent;
	color: var(--tt-gray-700);
	border-radius: var(--tt-radius-button);
	cursor: pointer;
	transition:
		background var(--tt-transition-fast),
		color var(--tt-transition-fast);
}

@media (hover: hover) {
	.tt-btn-delete:hover {
		background: var(--tt-state-danger-hover);
		color: var(--tt-status-danger-500);
	}
}

.tt-btn-delete:active {
	background: var(--tt-state-danger-pressed);
	color: var(--tt-status-danger-600);
}

.tt-btn-delete-placeholder {
	width: 40px;
	height: 40px;
	flex-shrink: 0;
}

.tt-row__action {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 32px;
	height: 32px;
	border: 1px solid var(--tt-brand-primary-500);
	background: transparent;
	color: var(--tt-brand-primary-500);
	border-radius: var(--tt-radius-button);
	cursor: pointer;
	transition: background var(--tt-transition-fast);
}

.tt-row__action:hover {
	background: var(--tt-brand-primary-800);
}

.tt-icon-play {
	width: 0;
	height: 0;
	border-top: 6px solid transparent;
	border-bottom: 6px solid transparent;
	border-left: 10px solid currentColor;
	margin-left: 2px;
}
